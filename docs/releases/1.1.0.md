# GuardFlow v1.1.0 — ESG Engine, Compliance e Testes

Data: 2025-10-16
Tag: v1.1.0

## Destaques
- Núcleo ESG Engine com 14 fatores (Ambiental, Social, Governança)
- API ESG Engine: cálculo de score por NCM, fatores e categorias
- Documentos de Compliance: LGPD e SEFAZ
- Testes backend: 14 testes passando

## Mudanças
- Adicionado: `backend/app/services/esg_engine.py`
- Adicionado: `backend/app/api/esg_engine.py`
- Adicionado: `docs/COMPLIANCE_LGPD.md`, `docs/COMPLIANCE_SEFAZ.md`
- Modificado: `backend/app/main.py` (load de routers fail-safe)
- Modificado: `README.md` (APIs ESG e badge 1.1.0)
- Modificado: `CHANGELOG.md` (seção 1.1.0)

## Endpoints ESG
- POST `/api/v1/esg-engine/calculate-score`
- GET `/api/v1/esg-engine/factors`
- GET `/api/v1/esg-engine/factors/by-ncm/{ncm}`
- GET `/api/v1/esg-engine/categories`
- GET `/api/v1/esg-engine/health`

Exemplo:
```bash
curl -X POST http://localhost:8000/api/v1/esg-engine/calculate-score \
  -H "Content-Type: application/json" \
  -d '{"ncm_code":"84","product_data":{"organic":false,"certified":true}}'
```

## Status de Qualidade
- Testes backend: 14/14 passando
- Avisos de migração Pydantic v2 mapeados para backlog

## Próximos Passos
- Implementar cálculo ESG baseado em dados reais (NCM granular)
- Conectar mobile/web aos endpoints ESG
- Adicionar testes de contrato (auth/cart/payment) ao CI E2E
